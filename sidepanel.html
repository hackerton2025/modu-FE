<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modu - 시각장애인 웹 접근성 도우미</title>
  <link rel="stylesheet" href="sidepanel.css" />
  <style>
    /* 스크린 리더 전용 텍스트 */
    #sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    /* 포커스 표시 강화 - 고대비 노란색 */
    *:focus {
      outline: 4px solid #FFD700;
      outline-offset: 4px;
    }

    button:focus {
      outline: 4px solid #FFD700;
      outline-offset: 4px;
      box-shadow: 0 0 0 6px rgba(255, 215, 0, 0.3);
    }

    /* 메시지 포커스 */
    .message:focus {
      outline: 4px solid #FFD700;
      outline-offset: 2px;
    }
  </style>
</head>

<body>
  <header id="header" role="banner">
    <img id="logo" src="logos/modu.svg" alt="Modu 로고" />
  </header>

  <main id="mainWrapper" role="main">
    <!-- 상태 알림 영역 (스크린 리더용) -->
    <div id="statusAnnouncer" role="status" aria-live="polite" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border-width: 0;">
    </div>

    <!-- 채팅 메시지 컨테이너 -->
    <section id="chatContainer" aria-labelledby="chatHeading">
      <!-- 초기 안내 메시지 -->
      <div id="emptyState" style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; text-align: center; padding: 24px;">
        <img style="width: 100px; height: 100px";" src="./icons/icon_reverse.png" alt="modu 로고">
        <p style="font-size: 20px; font-weight: 700; color: #333; margin-bottom: 16px;">Modu와 함께 웹을 탐색해보세요</p>
        <p style="font-size: 18px; color: #666; line-height: 1.8; max-width: 480px;">
          <strong>Space</strong>를 눌러 음성으로 대화를 시작하거나<br>
          <strong>Option+S 또는 Alt+S</strong>를 눌러 현재 페이지 내용을<br> 분석해보세요
        </p>
      </div>

      <div id="messageList" role="log" aria-live="polite" aria-relevant="additions">
        <!-- 메시지들이 여기에 동적으로 추가됩니다 -->
      </div>
    </section>

    <!-- 하단 고정 영역 -->
    <div id="bottomSection">
      <!-- 현재 인식 중인 명령어 표시 -->
      <div id="transcript" aria-live="polite">
        <p id="transcriptText" style="color: #888;">이곳에 입력될 메시지가 표시됩니다</p>
      </div>

      <!-- 음성인식 버튼 -->
      <button
        id="micButton"
        type="button"
        aria-label="음성인식 시작하기"
        aria-pressed="false">
        음성인식 시작
      </button>
    </div>

    <!-- 단축키 안내 (스크린 리더용) -->
    <div id="sr-only">
      <h2>키보드 단축키</h2>
      <ul>
        <li>스페이스바: 음성인식 시작 또는 중지</li>
        <li>Option+S (Mac) 또는 Alt+S (Windows): 현재 페이지 분석 및 음성 읽기</li>
        <li>Escape: 음성 읽기 중지</li>
      </ul>
    </div>
  </main>

  <script src="dist/sidepanel.js" type="module"></script>
</body>

</html>