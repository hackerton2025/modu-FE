<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modu - 시각장애인 웹 접근성 도우미</title>
  <link rel="stylesheet" href="sidepanel.css"/>
  <style>
    /* 스크린 리더 전용 텍스트 */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    /* 포커스 표시 강화 - 고대비 노란색 */
    *:focus {
      outline: 4px solid #FFD700;
      outline-offset: 4px;
    }

    button:focus {
      outline: 4px solid #FFD700;
      outline-offset: 4px;
      box-shadow: 0 0 0 6px rgba(255, 215, 0, 0.3);
    }

    /* 메시지 포커스 */
    .message:focus {
      outline: 4px solid #FFD700;
      outline-offset: 2px;
    }
  </style>
</head>
<body>
  <header id="header" role="banner">
    <img src="logos/modu.svg" alt="Modu 로고"/>
  </header>

  <main id="mainWrapper" role="main">
    <!-- 상태 알림 영역 (스크린 리더용) -->
    <div
      id="statusAnnouncer"
      role="status"
      aria-live="polite"
      aria-atomic="true"
      class="sr-only">
    </div>

    <!-- 채팅 메시지 컨테이너 -->
    <section id="chatContainer" aria-labelledby="chatHeading">
      <h2 id="chatHeading" class="sr-only">대화 내역</h2>
      <div id="messageList" role="log" aria-live="polite" aria-relevant="additions">
        <!-- 메시지들이 여기에 동적으로 추가됩니다 -->
      </div>
    </section>

    <!-- 하단 고정 영역 -->
    <div id="bottomSection">
      <!-- 현재 인식 중인 명령어 표시 -->
      <div id="transcript" aria-live="polite">
        <p id="transcriptText"></p>
      </div>

      <!-- 음성인식 버튼 -->
      <button
        id="micButton"
        type="button"
        aria-label="음성인식 시작하기"
        aria-pressed="false">
        음성인식 시작
      </button>
    </div>

    <!-- 단축키 안내 (스크린 리더용) -->
    <div class="sr-only">
      <h2>키보드 단축키</h2>
      <ul>
        <li>스페이스바: 음성인식 시작 또는 중지</li>
        <li>Command+Shift+L (Mac) 또는 Ctrl+Shift+L (Windows): 현재 페이지 분석 및 음성 읽기</li>
        <li>Escape: 음성 읽기 중지</li>
      </ul>
    </div>
  </main>

  <script src="dist/sidepanel.js" type="module"></script>
</body>
</html>